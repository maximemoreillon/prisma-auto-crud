generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model equipment {
  id                 Int                  @id(map: "pk_equipment") @default(autoincrement())
  name               String               @db.VarChar(100)
  description        String?              @db.VarChar
  photo_link         String?              @db.VarChar
  equipment_checkout equipment_checkout[]
}

model equipment_checkout {
  id           Int       @id(map: "pk_equipment_checkout") @default(autoincrement())
  description  String?   @db.VarChar
  request_date DateTime? @default(now()) @db.Date
  user_id      Int
  equipment_id Int
  return_date  DateTime?
  equipment    equipment @relation(fields: [equipment_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_equipment_checkout_equipment")
  user         user      @relation(fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_equipment_checkout_user")
}

model user {
  id                 Int                  @id(map: "pk_tbl") @default(autoincrement())
  name               String               @db.VarChar(100)
  department         String?              @db.VarChar
  is_admin           Boolean
  email              String               @unique @db.VarChar
  password           String               @db.VarChar
  equipment_checkout equipment_checkout[]
}
